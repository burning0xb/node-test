webpackJsonp([2],{212:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(1083);Object.defineProperty(t,"Register",{enumerable:!0,get:function(){return n(r).default}});var l=a(1082);Object.defineProperty(t,"Login",{enumerable:!0,get:function(){return n(l).default}})},439:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=function(e,t,a){for(var n=!0;n;){var r=e,l=t,s=a;n=!1,null===r&&(r=Function.prototype);var i=Object.getOwnPropertyDescriptor(r,l);if(void 0!==i){if("value"in i)return i.value;var o=i.get;if(void 0===o)return;return o.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=l,a=s,n=!0,i=c=void 0}},c=a(1),u=n(c),d=a(71),p=function(e){function t(e,a){l(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,a),this.onClick=this.onClick.bind(this)}return s(t,e),i(t,[{key:"onClick",value:function(e){return this.props.disabled?void e.preventDefault():(this.props.children.props.onClick&&this.props.children.props.onClick(e),void d.Link.prototype.handleClick.call(this,e))}},{key:"render",value:function(){var e=this.context.router,t=this.props,a=t.onlyActiveOnIndex,n=t.to,l=t.children,s=r(t,["onlyActiveOnIndex","to","children"]);return s.onClick=this.onClick,e&&(s.href=e.createHref(n),null==s.active&&(s.active=e.isActive(n,a))),u.default.cloneElement(u.default.Children.only(l),s)}}]),t}(u.default.Component);t.default=p,p.propTypes={onlyActiveOnIndex:u.default.PropTypes.bool.isRequired,to:u.default.PropTypes.oneOfType([u.default.PropTypes.string,u.default.PropTypes.object]).isRequired,onClick:u.default.PropTypes.func,active:u.default.PropTypes.bool,disabled:u.default.PropTypes.bool.isRequired,children:u.default.PropTypes.node.isRequired},p.contextTypes={router:u.default.PropTypes.object},p.defaultProps={onlyActiveOnIndex:!1,disabled:!1},e.exports=t.default},511:function(e,t){"use strict";function a(e,t){window.localStorage.setItem(e,t)}function n(e){return window.localStorage.getItem(e)}function r(e){return window.localStorage.removeItem(e)}function l(){window.localStorage.clear()}Object.defineProperty(t,"__esModule",{value:!0}),t.put=a,t.get=n,t.remove=r,t.clear=l},940:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=function(e,t,a){for(var n=!0;n;){var r=e,l=t,s=a;n=!1,null===r&&(r=Function.prototype);var i=Object.getOwnPropertyDescriptor(r,l);if(void 0!==i){if("value"in i)return i.value;var o=i.get;if(void 0===o)return;return o.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=l,a=s,n=!0,i=c=void 0}},c=a(1),u=n(c),d=a(439),p=n(d),f=function(e){function t(){r(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return l(t,e),i(t,[{key:"render",value:function(){return u.default.createElement(p.default,s({},this.props,{onlyActiveOnIndex:!0}))}}]),t}(u.default.Component);t.default=f,e.exports=t.default},941:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(940),l=n(r);t.IndexLinkContainer=l.default;var s=a(439),i=n(s);t.LinkContainer=i.default},1081:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,l,s=a(17),i=n(s),o=a(7),c=n(o),u=a(16),d=n(u),p=a(12),f=n(p),h=a(11),v=n(h),m=a(1),y=n(m),g=(l=r=function(e){function t(){return(0,c.default)(this,t),(0,f.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,v.default)(t,e),(0,d.default)(t,[{key:"componentWillMount",value:function(){this.refs.ss&&(this.refs.ss.innerHTML=this.props.alertMsg+'<div className="btn w88 mt20 bg-color-f60" onClick={this.props.closeMsg}>关闭协议</div>')}},{key:"getStyles",value:function(){return{show:{display:"block"},hidden:{display:"none"},over:{overflow:"auto",height:400,paddingTop:10},padding:{paddingTop:"0px"}}}},{key:"render",value:function(){var e=this.getStyles();return y.default.createElement("section",{className:"dialog-proto",ref:"digbox",style:this.props.alertMsg||!this.props.closeMsg?e.show:e.hidden},y.default.createElement("div",{className:"drag"}),y.default.createElement("div",{className:"dialog bg-fff-msg",style:e.padding},y.default.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.alertMsg?this.props.alertMsg.__html:""},style:e.over}),y.default.createElement("div",{onClick:this.props.closeMsg,className:"btn w88 mt20 bg-color-f60"},"关闭协议")))}}]),t}(m.Component),r.propTypes={alertMsg:m.PropTypes.object,closeMsg:m.PropTypes.func.isRequired},l);t.default=g,e.exports=t.default},1082:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l,s,i,o,c=a(6),u=r(c),d=a(17),p=r(d),f=a(7),h=r(f),v=a(16),m=r(v),y=a(12),g=r(y),b=a(11),w=r(b),E=a(1),_=r(E),k=a(13),P=a(41),O=a(36),C=r(O),N=a(191),S=a(125),T=n(S),M=a(511),j=n(M),x=a(123),I=(l=(0,x.asyncConnect)([{promise:function(e){var t=e.store.dispatch;return t(T.closeSuccess())}}]),l((o=i=function(e){function t(){return(0,h.default)(this,t),(0,g.default)(this,(t.__proto__||(0,p.default)(t)).apply(this,arguments))}return(0,w.default)(t,e),(0,m.default)(t,[{key:"componentWillReceiveProps",value:function(e){if(2===e.application.loginStatus){var t=document.getElementById("save");t.innerHTML=e.application.error,(0,C.default)("#save").show()}}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=(0,C.default)(".yhm").eq(0).find("input").val(),n=(0,C.default)(".yhm").eq(1).find("input").val();if(""===a||""===n)(0,C.default)("#save").show();else{(0,C.default)("#save").hide();var r=(0,C.default)(e.target).serialize()+"&IP="+(0,C.default)("#keleyivisitorip").text();this.props.login(r,j,function(){setTimeout(function(){t.props.pushState("/ma")},1e3)})}}},{key:"render",value:function(){return _.default.createElement("div",null,_.default.createElement("link",{href:"/assets/css/denglu.css",rel:"stylesheet"}),_.default.createElement("div",{className:"dl_nr"},_.default.createElement("div",{className:"dl_br_bg"},_.default.createElement("div",{className:"denglu"},_.default.createElement("p",null,"华润怡宝移动支付平台"),_.default.createElement("form",{onSubmit:this.handleSubmit.bind(this)},_.default.createElement("div",{className:"yhm"},_.default.createElement("input",{type:"text",name:"username",placeholder:"用户名"})),_.default.createElement("div",{className:"yhm"},_.default.createElement("input",{type:"password",name:"password",placeholder:"密码"})),_.default.createElement("div",{className:"pd"},_.default.createElement("div",{className:"pada",id:"save"},_.default.createElement("img",{src:"../../../assets/images/not-kong.png"}),_.default.createElement("span",null,"用户名或密码不能为空"))),_.default.createElement("div",{className:"dl_an"},_.default.createElement(N.ButtonInput,{type:"submit",bsStyle:"primary",bsSize:"large",block:!0,disabled:this.props.application.loginStatus<=1},this.props.application.loginStatus<=1?"登录中...":"登录")))))))}}]),t}(E.Component),i.propTypes={application:E.PropTypes.object,closeSuccess:E.PropTypes.func.isRequired,login:E.PropTypes.func.isRequired,pushState:E.PropTypes.func.isRequired},s=o))||s);t.default=(0,k.connect)(function(e){return{application:e.application}},(0,u.default)({},T,{pushState:P.push}))(I),e.exports=t.default},1083:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l,s,i=a(6),o=r(i),c=a(21),u=r(c),d=a(17),p=r(d),f=a(7),h=r(f),v=a(16),m=r(v),y=a(12),g=r(y),b=a(11),w=r(b),E=a(1),_=r(E),k=a(13),P=a(41),O=a(1081),C=r(O),N=a(941),S=a(142),T=r(S),M=a(511),j=n(M),x=a(125),I=a(506),R=n(I),q=!1,A=!1,L="",D="loginId",H=(s=l=function(e){function t(e){(0,h.default)(this,t);var a=(0,g.default)(this,(t.__proto__||(0,p.default)(t)).call(this,e));return a.state={perSelected:"P",compSelected:void 0,display:void 0,mobile:void 0,agree:"A",userId:void 0,pwd:void 0,repwd:void 0,code:void 0,tel:void 0},a}return(0,w.default)(t,e),(0,m.default)(t,[{key:"componentWillMount",value:function(){var e=this.props.location.query;L=e[D]}},{key:"componentWillReceiveProps",value:function(e){if(e.register){if(void 0!==e.register.codeSuccess&&q===!1&&A===!0){A=!1,this.timeStart();var t={mobile:this.refs.tel.value,type:"SMS_RZ_1",loginId:""};this.props.verificationCode((0,T.default)(t)),this.setState({mobile:e.register.codeSuccess})}if(1===e.register.allSuccess){var a={mobile:this.refs.tel.value,loginId:this.refs.name.value,referrer:L,smsCode:this.refs.code.value,loginPwd:this.refs.pwd.value,custType:"I",memberType:"C"};this.props.regist((0,T.default)(a))}}}},{key:"componentDidUpdate",value:function(){this.props.register.userInfo&&this.props.register.userInfo.user&&(q=!1,this.props.login(this.props.register.userInfo.user,j),this.props.pushState("/"))}},{key:"getCode",value:function(){q===!1&&(A=!0,this.props.validators(this.refs.name.value,this.refs.tel.value,"","","",0))}},{key:"timeStart",value:function(){q=!0;var e=10;this.refs.checkcode2.value=e+"秒后重新获取",this.refs.checkcode2.style.display="block",this.refs.checkcode1.style.display="none",this.timer=setInterval(function(){e>1?(e-=1,this.refs.checkcode2&&(this.refs.checkcode2.value=e+"秒后重新获取")):(clearInterval(this.timer),this.refs.checkcode2&&(this.refs.checkcode2.value="重新获取验证码"),q=!1)}.bind(this),1e3)}},{key:"selected",value:function(e){"P"===e?this.setState({perSelected:"P",compSelected:void 0}):"A"===e?this.state.agree?this.setState({agree:void 0}):this.setState({agree:"A"}):this.setState({perSelected:void 0,compSelected:"C"})}},{key:"next",value:function(){this.state.agree?this.props.validators(this.refs.name.value,this.refs.tel.value,this.refs.pwd.value,this.refs.pwd2.value,this.refs.code.value,1):this.props.chkInfo("请阅读圆达协议条款")}},{key:"goHome",value:function(){this.refs.success.style.display="none",this.props.pushState(null,"/")}},{key:"goBindCard",value:function(){this.refs.success.style.display="none",this.props.pushState(null,"/app/account/bindcard")}},{key:"handleChange",value:function(e){this.setState((0,u.default)({},e.target.name,e.target.value))}},{key:"render",value:function(){return _.default.createElement("div",{className:"wrap"},_.default.createElement("div",{className:"money logo"}),_.default.createElement("div",{className:"input"},_.default.createElement("div",{className:"search-box clear"},this.state.userId?_.default.createElement("div",{className:"input-icon login login fl"}):_.default.createElement("div",{className:"input-icon login-active fl"}),_.default.createElement("input",{ref:"name",type:"text",className:"search-inp fl",placeholder:"请输入账号",name:"userId",onChange:this.handleChange.bind(this)})),_.default.createElement("div",{className:"search-box clear"},this.state.tel?_.default.createElement("div",{className:"input-icon tel tel fl"}):_.default.createElement("div",{className:"input-icon tel tel-active fl"}),_.default.createElement("input",{ref:"tel",type:"telephone",className:"search-inp fl",placeholder:"请输入手机号码",name:"tel",onChange:this.handleChange.bind(this)})),_.default.createElement("div",{className:"search-box clear"},this.state.pwd?_.default.createElement("div",{className:"input-icon psw psw fl"}):_.default.createElement("div",{className:"input-icon psw psw-active fl"}),_.default.createElement("input",{ref:"pwd",type:"password",className:"search-inp fl",placeholder:"请输入登陆密码",name:"pwd",onChange:this.handleChange.bind(this)})),_.default.createElement("div",{className:"search-box clear"},this.state.repwd?_.default.createElement("div",{className:"input-icon psw psw fl"}):_.default.createElement("div",{className:"input-icon psw psw-active fl"}),_.default.createElement("input",{ref:"pwd2",type:"password",className:"search-inp fl",placeholder:"请重复输入密码",name:"repwd",onChange:this.handleChange.bind(this)})),_.default.createElement("div",{className:"search-box clear"},this.state.code?_.default.createElement("div",{className:"input-icon code code fl"}):_.default.createElement("div",{className:"input-icon code code-active fl"}),_.default.createElement("input",{ref:"code",type:"text",className:"search-inp tel-code-inp fl",placeholder:"请输入验证码",name:"code",onChange:this.handleChange.bind(this)}),this.state.tel?_.default.createElement("input",{ref:"checkcode1",className:"code-btn fl",type:"button",onClick:this.getCode.bind(this),value:"获取验证码"}):_.default.createElement("input",{ref:"checkcode1",className:"code-btn fl",type:"button",value:"获取验证码"}),_.default.createElement("input",{ref:"checkcode2",className:"code-btn fl",type:"button",style:{display:"none"},onClick:this.getCode.bind(this)}))),_.default.createElement("div",{className:"agree w88 clear"},_.default.createElement("span",{className:this.state.agree?"selected fl":"fl",onClick:this.selected.bind(this,"A")}),_.default.createElement("div",{className:"fl"},_.default.createElement("p",{className:"fl"},"我已阅读并同意"))),this.state.userId&&this.state.tel&&this.state.pwd&&this.state.repwd&&this.state.code?_.default.createElement("div",{className:"btn w88 mt47 bg-color-red",onClick:this.next.bind(this)},"提交"):_.default.createElement("div",{className:"btn w88 mt47 bg-color-gray",onClick:this.next.bind(this)},"提交"),_.default.createElement(N.LinkContainer,{to:"/login"},_.default.createElement("a",{className:"link-btn mt47"},"登陆")),_.default.createElement("div",{className:"fixed-height-box"}),_.default.createElement(C.default,{alertMsg:this.props.application.alertMsg,closeMsg:this.props.closeMsg}))}}]),t}(E.Component),l.propTypes={register:E.PropTypes.object,location:E.PropTypes.object,application:E.PropTypes.object,showMsg:E.PropTypes.func.isRequired,closeMsg:E.PropTypes.func.isRequired,validators:E.PropTypes.func.isRequired,verificationCode:E.PropTypes.func.isRequired,regist:E.PropTypes.func.isRequired,chkInfo:E.PropTypes.func.isRequired,login:E.PropTypes.func.isRequired,pushState:E.PropTypes.func.isRequired,suInfo:E.PropTypes.func.isRequired},s);t.default=(0,k.connect)(function(e){return{register:e.register,application:e.application}},(0,o.default)({},R,{pushState:P.push,showMsg:x.showMsg,closeMsg:x.closeMsg}))(H),e.exports=t.default}});